<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="CHANGELOG" href="history.html" />

    <link rel="shortcut icon" href="_static/menu_from_project.png"/><meta name="generator" content="sphinx-4.5.0, furo 2022.06.21"/>
        <title>Layers menu from project 2.0.5 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">Layers menu from project 2.0.5 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="#">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/menu_from_project.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Layers menu from project 2.0.5 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Others</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="history.html">CHANGELOG</a></li>
<li class="toctree-l1"><a class="reference external" href="https://plugins.qgis.org/plugins/menu_from_project/">On QGIS Plugins repository</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="layers-menu-from-project-documentation">
<h1>Layers menu from project - Documentation<a class="headerlink" href="#layers-menu-from-project-documentation" title="Permalink to this headline">#</a></h1>
<blockquote>
<div><p><strong>Author and contributors:</strong> Xavier Culos (Agence de l’eau Adour Garonne), Etienne Trimaille, Julien M. (Oslandia)</p>
<p><strong>Version:</strong> 2.0.5</p>
<p><strong>Source code:</strong> <a class="reference external" href="https://github.com/xcaeag/MenuFromProject-Qgis-Plugin">https://github.com/xcaeag/MenuFromProject-Qgis-Plugin</a></p>
</div></blockquote>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><span class="xref myst">English version</span></p>
<ul>
<li><p><span class="xref myst">How to use it ?</span></p>
<ul>
<li><p><span class="xref myst">1. Set up a classical qgis project somewhere</span></p></li>
<li><p><span class="xref myst">2. Configure the plugin to read those projects</span></p></li>
</ul>
</li>
</ul>
</li>
<li><p><span class="xref myst">En Français</span></p>
<ul>
<li><p><span class="xref myst">Comment l’utiliser ?</span></p>
<ul>
<li><p><span class="xref myst">1. Construire un beau projet</span></p></li>
<li><p><span class="xref myst">2. Configurer le plugin</span></p></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Others</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="history.html">CHANGELOG</a></li>
<li class="toctree-l1"><a class="reference external" href="https://plugins.qgis.org/plugins/menu_from_project/">On QGIS Plugins repository</a></li>
</ul>
</div>
</section>
<section id="english-version">
<h2>English version<a class="headerlink" href="#english-version" title="Permalink to this headline">#</a></h2>
<p>That plugin provides a convenient way to add prestyled and preconfigured frequently used layers using dropdown menus built by simply reading existing QGIS projects (qgs, qgz, postgres, http)</p>
<p>Styling, actions, labeling, metadata, joined layers are reused as defined in source projects</p>
<p><img alt="dropdown menu en" src="_images/drop_down_menu_en.png" /></p>
<section id="how-to-use-it">
<h3>How to use it ?<a class="headerlink" href="#how-to-use-it" title="Permalink to this headline">#</a></h3>
<p>When the plugin is configured (choice of a project via the plugin menu), a new menu appears, based on all the layers that contain the original project.</p>
<section id="set-up-a-classical-qgis-project-somewhere">
<h4>1. Set up a classical qgis project somewhere<a class="headerlink" href="#set-up-a-classical-qgis-project-somewhere" title="Permalink to this headline">#</a></h4>
<p>Save a project somewhere with some styling, labeling, and so on.</p>
<p>The project might be stored in a PostgreSQL database, or on a web server, which makes it accessible via http. <a class="reference external" href="https://qgis.org/en/site/forusers/visualchangelog32/index.html#feature-saving-and-loading-projects-in-postgresql-database">(see feature-saving-and-loading-projects-in-postgresql-database)</a>. You need to copy/paste the project URI (Project properties -&gt; General) into the field.</p>
<p>…and QGZ <a class="reference external" href="https://qgis.org/en/site/forusers/visualchangelog30/index.html#feature-new-zipped-project-file-format-qgz">(see feature-new-zipped-project-file-format-qgz)</a>.</p>
<p>If you want some hierarchical menu, just use groups and sub groups in layer’s panel, they will be reused to build the same hierarchical menu.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Create an empty group named “-” to build a separator line in dropdown menu</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want users to access that project, save it to a shared network place, better read only fo users except for the project administrator. Using a version control system could be a very good idea here.</p>
</div>
<p><img alt="dropdown menu en" src="_images/mapping.png" /></p>
</section>
<section id="configure-the-plugin-to-read-those-projects">
<h4>2. Configure the plugin to read those projects<a class="headerlink" href="#configure-the-plugin-to-read-those-projects" title="Permalink to this headline">#</a></h4>
<ul class="simple">
<li><p>Go to menu / Plugins / Layer menu from project :</p></li>
</ul>
<p><img alt="Open plugin configuration window" src="_images/config_window_access_en.png" /></p>
<p><img alt="configuration window" src="_images/config_window_en.png" /></p>
<ul class="simple">
<li><p>Press “+” button to add a .qgs, .qgz project to the list (or paste a pg URI, a http URL).
You can change the alias that will be the menu name in QGIS</p></li>
</ul>
<p>The name will become the title of the menu.</p>
<p>The menu can be placed either in the main menu bar, or in the “layer / add layer” sub-menu, or (since version 1.1) to be merged with the previous project in the same menu.</p>
<p>Following options are available:</p>
<ul class="simple">
<li><p><em>Show title and abstract in tooltip</em> : this is a convenient way to show some metadata to end users before they add it o the working session even if they don’t know that metadata are available in layer properties</p></li>
<li><p><em>Load all layers item</em>: adds an entry at the end of every menu’s node that allow user to load all menu items at once. Very useful when you want to load all topo maps for every zoom level for instance.</p></li>
</ul>
<p><img alt="" src="_images/add_all_option_en.png" /></p>
<p><img alt="" src="_images/add_group_option_en.png" /></p>
<ul class="simple">
<li><p><em>Create Group</em> : Layer will be added inside a group, taking the name of the menu node.</p></li>
</ul>
<p>You can hide the administration dialog of the plugin by adding a <code class="docutils literal notranslate"><span class="pre">menu_from_project/is_setup_visible</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code> in the QGIS INI file. This is useful when you deploy QGIS within an organization.</p>
</section>
</section>
</section>
<hr class="docutils" />
<section id="en-francais">
<h2>En Français<a class="headerlink" href="#en-francais" title="Permalink to this headline">#</a></h2>
<p>Cette extension pour QGIS permet de construire automatiquement des menus déroulants permettant d’ajouter des couches pré-stylées définies dans des projets QGIS externes “modèles” (qgs, qgz, postgres, web).</p>
<p>Tous les paramètrages des couches, le style, les étiquettes, les actions, les métadonnées, les jointures sont conservées. La maintenance se résume à la gestion de quelques projets QGIS centralisés.</p>
<p><img alt="dropdown menu en" src="_images/drop_down_menu_fr.png" /></p>
<section id="comment-lutiliser">
<h3>Comment l’utiliser ?<a class="headerlink" href="#comment-lutiliser" title="Permalink to this headline">#</a></h3>
<p>Lorsque le plugin est configuré (choix des projets et attribution d’un nom associé via le menu Extensions - Layers menu from projects), de nouveaux menus apparaissent, pour chacun des projets sélectionnés. Chaque item de menu correspond alors à une couche du projet et déclenche son ouverture.</p>
<section id="construire-de-beaux-projets">
<h4>1. Construire de beaux projets<a class="headerlink" href="#construire-de-beaux-projets" title="Permalink to this headline">#</a></h4>
<p>Sauver vos projets sur un espace partagé (réseau, web, postgres) avec leurs styles, leurs étiquettes… une arborescence de groupes à l’image du futur menu.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Créer un groupe vide nommé “-” pour placer un séparateur à cet endroit dans le futur menu.</p>
</div>
<p>Les projets peuvent être sauvés au format qgz, dans une base PostgreSQL <a class="reference external" href="https://qgis.org/en/site/forusers/visualchangelog32/index.html#feature-saving-and-loading-projects-in-postgresql-database">(cf. feature-saving-and-loading-projects-in-postgresql-database)</a> ou déposée en tant que ressource web.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Le projet placé dans un espace partagé du réseau, sous postgres ou un serveur web permettra à différents utilisateurs d’exploiter les mêmes ressources (à condition bien sûr que celles-ci soit accessible).</p>
</div>
<p><img alt="dropdown menu en" src="_images/mapping.png" /></p>
</section>
<section id="configurer-le-plugin">
<h4>2. Configurer le plugin<a class="headerlink" href="#configurer-le-plugin" title="Permalink to this headline">#</a></h4>
<ul class="simple">
<li><p>menu / Extension / Layer menu from project :</p></li>
</ul>
<p><img alt="Open plugin configuration window" src="_images/config_window_access_fr.png" /></p>
<p><img alt="configuration window" src="_images/config_window_fr.png" /></p>
<ul class="simple">
<li><p>Bouton ajouter un projet (“+”), puis “éditer” pour ajouter un projet .qgs, .qgz à la liste, ou coller l’URI d’un projet PostgreSQL, coller l’URL d’un projet distant. ex : <a class="reference external" href="http://adour-garonne.eaufrance.fr/upload/DATA/SIG/aeag-web.qgz">http://adour-garonne.eaufrance.fr/upload/DATA/SIG/aeag-web.qgz</a></p></li>
</ul>
<p>Le nom (modifiable), deviendra le titre du menu.</p>
<p>Le menu pourra être placé soit dans la barre de menu principale, soit dans le sous-menu “couche / ajouter une couche”, ou encore (depuis la version 1.1) d’être fusionné avec le projet précédent dans un même menu.</p>
<p>Quelques options :</p>
<ul class="simple">
<li><p>L’option du plugin “option de menu ‘tout ajouter’”, si elle est cochée permet de charger l’ensemble des couches d’un même niveau de sous-menu</p></li>
</ul>
<p><img alt="" src="_images/add_all_option_fr.png" /></p>
<p><img alt="" src="_images/add_group_option_fr.png" /></p>
<ul class="simple">
<li><p>L’option “Créer un groupe au chargement de la couche” place la nouvelle couche sous un groupe portant le nom du menu</p></li>
<li><p>Afficher titre et résumé… assez parlant.</p></li>
</ul>
<p>Vous pouvez cacher la fenêtre d’administration du plugin en ajoutant une variable <code class="docutils literal notranslate"><span class="pre">menu_from_project/is_setup_visible</span></code> à <code class="docutils literal notranslate"><span class="pre">false</span></code> dans le fichier INI de QGIS. Ceci est utile quand QGIS est déployé au sein d’une organisation.</p>
</section>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="history.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">CHANGELOG</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2014 - 2022, Xavier Culos (Agence de l&#39;eau Adour Garonne), Etienne Trimaille, Julien M. (Oslandia)
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Layers menu from project - Documentation</a><ul>
<li><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li><a class="reference internal" href="#english-version">English version</a><ul>
<li><a class="reference internal" href="#how-to-use-it">How to use it ?</a><ul>
<li><a class="reference internal" href="#set-up-a-classical-qgis-project-somewhere">1. Set up a classical qgis project somewhere</a></li>
<li><a class="reference internal" href="#configure-the-plugin-to-read-those-projects">2. Configure the plugin to read those projects</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#en-francais">En Français</a><ul>
<li><a class="reference internal" href="#comment-lutiliser">Comment l’utiliser ?</a><ul>
<li><a class="reference internal" href="#construire-de-beaux-projets">1. Construire de beaux projets</a></li>
<li><a class="reference internal" href="#configurer-le-plugin">2. Configurer le plugin</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>